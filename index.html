<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor Antivejez - Plataforma Médica</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header superior -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <img src="assets/Logo.jpeg" alt="Doctor Antivejez" class="logo" onerror="this.style.display='none'">
                <span class="logo-text">DOCTOR Antivejez</span>
            </div>
            
            <div class="search-section">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" placeholder="Buscar paciente o historia..." class="search-input">
                </div>
            </div>
            
            <div class="header-actions">
                <button class="header-btn">
                    <i class="fas fa-bell"></i>
                </button>
                <button class="header-btn">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-menu">
                    <img src="assets/user-avatar.png" alt="Usuario" class="user-avatar" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM0Nzg5RkYiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMTRDOC4xMzQwMSAxNCA1IDE3LjEzNCA1IDIxSDMuMDAzVjE5QzMuMDAzIDE1LjY4NiA1LjY4NiAxMyA5IDEzSDEyIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KPC9zdmc+'">
                </div>
            </div>
        </div>
    </header>

    <div class="app-container">
        <!-- Sidebar lateral -->
        <nav class="sidebar">
            <div class="sidebar-content">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#dashboard" class="nav-link active" data-route="dashboard">
                            <i class="fas fa-chart-pie"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#historias" class="nav-link" data-route="historias">
                            <i class="fas fa-file-medical"></i>
                            <span>Historias</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#profesionales" class="nav-link" data-route="profesionales">
                            <i class="fas fa-user-md"></i>
                            <span>Profesionales</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#agente-ia" class="nav-link" data-route="agente-ia">
                            <i class="fas fa-robot"></i>
                            <span>Agente IA</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#reportes" class="nav-link" data-route="reportes">
                            <i class="fas fa-chart-bar"></i>
                            <span>Reportes</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#ajustes" class="nav-link" data-route="ajustes">
                            <i class="fas fa-cog"></i>
                            <span>Ajustes</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="sidebar-footer">
                <div class="doctor-info">
                    <div class="doctor-avatar">
                        <img src="assets/doctor-avatar.png" alt="Dr." onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM0Nzg5RkYiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4PSI4IiB5PSI4Ij4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIgMTRDOC4xMzQwMSAxNCA1IDE3LjEzNCA1IDIxSDMuMDAzVjE5QzMuMDAzIDE1LjY4NiA1LjY4NiAxMyA5IDEzSDEyIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4KPC9zdmc+'">
                    </div>
                    <div class="doctor-details">
                        <span class="doctor-name">Dr. Antivejez</span>
                        <span class="doctor-specialty">Medicina Antienvejecimiento</span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Contenido principal -->
        <main class="main-content" id="main-content">
            <!-- El contenido se carga dinámicamente aquí -->
        </main>
    </div>

    <!-- Modal para Test Biofísico -->
    <div id="biofisico-modal" class="modal">
        <div class="modal-content modal-xl">
            <div class="modal-header">
                <h2><i class="fas fa-calculator"></i> Test de Edad Biofísica</h2>
                <button type="button" class="close-btn" onclick="closeBiofisicoModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="test-biofisico-container">
                    <!-- Información del paciente -->
                    <div class="paciente-info-section">
                        <div class="info-card">
                            <h3>Información del Paciente</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Nombre:</label>
                                    <span id="modal-paciente-nombre">--</span>
                                </div>
                                <div class="info-item">
                                    <label>Edad Cronológica:</label>
                                    <span id="modal-paciente-edad">--</span>
                                </div>
                                <div class="info-item">
                                    <label>Género:</label>
                                    <span id="modal-paciente-genero">--</span>
                                </div>
                                <div class="info-item">
                                    <label>Fecha:</label>
                                    <span id="modal-fecha-test">--</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Formulario de mediciones -->
                    <div class="mediciones-section">
                        <h3>Mediciones Biofísicas</h3>
                        <div class="mediciones-grid">
                            <div class="medicion-item">
                                <label for="porcentaje-grasa">% Grasa Corporal:</label>
                                <input type="number" id="porcentaje-grasa" step="0.1" min="0" max="100">
                                <span class="unit">%</span>
                            </div>
                            <div class="medicion-item">
                                <label for="imc">Índice de Masa Corporal:</label>
                                <input type="number" id="imc" step="0.1" min="0" max="50">
                                <span class="unit">kg/m²</span>
                            </div>
                            <div class="medicion-item">
                                <label>Reflejos Digitales (3 mediciones):</label>
                                <div class="mediciones-multiples">
                                    <input type="number" id="reflejos-1" step="0.1" placeholder="Med. 1">
                                    <input type="number" id="reflejos-2" step="0.1" placeholder="Med. 2">
                                    <input type="number" id="reflejos-3" step="0.1" placeholder="Med. 3">
                                </div>
                                <span class="unit">ms</span>
                            </div>
                            <div class="medicion-item">
                                <label for="acomodacion-visual">Acomodación Visual:</label>
                                <input type="number" id="acomodacion-visual" step="0.1" min="0">
                                <span class="unit">dioptrías</span>
                            </div>
                            <div class="medicion-item">
                                <label>Balance Estático (3 mediciones):</label>
                                <div class="mediciones-multiples">
                                    <input type="number" id="balance-1" step="0.1" placeholder="Med. 1">
                                    <input type="number" id="balance-2" step="0.1" placeholder="Med. 2">
                                    <input type="number" id="balance-3" step="0.1" placeholder="Med. 3">
                                </div>
                                <span class="unit">seg</span>
                            </div>
                            <div class="medicion-item">
                                <label for="hidratacion-cutanea">Hidratación Cutánea:</label>
                                <input type="number" id="hidratacion-cutanea" step="0.1" min="0">
                                <span class="unit">%</span>
                            </div>
                            <div class="medicion-item">
                                <label for="presion-sistolica">Presión Sistólica:</label>
                                <input type="number" id="presion-sistolica" step="1" min="0">
                                <span class="unit">mmHg</span>
                            </div>
                            <div class="medicion-item">
                                <label for="presion-diastolica">Presión Diastólica:</label>
                                <input type="number" id="presion-diastolica" step="1" min="0">
                                <span class="unit">mmHg</span>
                            </div>
                            <div class="medicion-item">
                                <label for="pulso-reposo">Pulso en Reposo:</label>
                                <input type="number" id="pulso-reposo" step="1" min="0">
                                <span class="unit">bpm</span>
                            </div>
                        </div>
                    </div>

                    <!-- Resultados -->
                    <div class="resultados-section">
                        <h3>Resultados del Análisis</h3>
                        <div class="resultados-grid">
                            <div class="resultado-principal">
                                <div class="edad-biofisica">
                                    <label>Edad Biofísica:</label>
                                    <span id="edad-biofisica-resultado">--</span>
                                    <span class="unit">años</span>
                                </div>
                                <div class="edad-diferencial">
                                    <label>Diferencia:</label>
                                    <span id="edad-diferencial-resultado">--</span>
                                    <span class="unit">años</span>
                                </div>
                            </div>
                        </div>

                        <!-- Gráficos de parámetros -->
                        <div class="graficos-parametros">
                            <h4>Análisis por Parámetro</h4>
                            <div class="grafico-item">
                                <h4>% Grasa Corporal</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-grasa">--</span></span>
                                    <span>Diferencia: <span id="diff-grasa">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-grasa">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Índice de Masa Corporal</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-imc">--</span></span>
                                    <span>Diferencia: <span id="diff-imc">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-imc">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Reflejos Digitales</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-reflejos">--</span></span>
                                    <span>Diferencia: <span id="diff-reflejos">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-reflejos">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Acomodación Visual</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-acomodacion">--</span></span>
                                    <span>Diferencia: <span id="diff-acomodacion">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-acomodacion">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Balance Estático</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-balance">--</span></span>
                                    <span>Diferencia: <span id="diff-balance">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-balance">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Hidratación Cutánea</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-hidratacion">--</span></span>
                                    <span>Diferencia: <span id="diff-hidratacion">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-hidratacion">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Presión Sistólica</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-sistolica">--</span></span>
                                    <span>Diferencia: <span id="diff-sistolica">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-sistolica">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Presión Diastólica</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-diastolica">--</span></span>
                                    <span>Diferencia: <span id="diff-diastolica">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-diastolica">Bueno</div>
                            </div>
                            <div class="grafico-item">
                                <h4>Pulso en Reposo</h4>
                                <div class="grafico-values">
                                    <span>Edad Calculada: <span id="grafico-pulso">--</span></span>
                                    <span>Diferencia: <span id="diff-pulso">--</span></span>
                                </div>
                                <div class="status-indicator" id="status-pulso">Bueno</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeBiofisicoModal()">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="calcularEdadBiofisica()">
                    <i class="fas fa-calculator"></i> Calcular
                </button>
                <button type="button" class="btn btn-success" onclick="guardarTestBiofisico()">
                    <i class="fas fa-save"></i> Guardar
                </button>
                <button type="button" class="btn btn-info" onclick="volverDetalleModal()">
                    <i class="fas fa-arrow-left"></i> Volver
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/router.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/historias.js"></script>
    <script src="js/biophysics-test.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
